# Phase 1.3: Theme System

## Overview

Comprehensive theme system for the workout tracking application with design tokens, typography, spacing, and reusable UI primitives.

## Implementation Summary

### 1. Enhanced Theme System (`constants/theme.ts`)

#### Colors
Extended color palette with semantic colors and proper light/dark mode support:

- **Text colors**: Primary, secondary, tertiary, and inverse
- **Background colors**: Primary, secondary, tertiary backgrounds
- **Brand colors**: Primary, primary light, primary dark
- **Semantic colors**: Success, error, warning, info (with light variants)
- **UI colors**: Border, divider, shadow, overlay
- **Icon colors**: Icon and icon secondary
- **Tab colors**: Tab-specific colors for navigation

#### Typography
- **Font sizes**: xs (12px) through 5xl (48px)
- **Font weights**: normal, medium, semibold, bold
- **Line heights**: tight (1.25), normal (1.5), relaxed (1.75)
- **Font families**: Platform-specific fonts (system, serif, rounded, mono)

#### Spacing System
Based on 4px grid for consistent spacing:
- xs: 4px
- sm: 8px
- md: 16px
- lg: 24px
- xl: 32px
- 2xl: 48px
- 3xl: 64px

#### Border Radius
Consistent border radius tokens:
- none: 0
- sm: 4px
- md: 8px
- lg: 12px
- xl: 16px
- 2xl: 24px
- full: 9999px (circular)

#### Shadows
Elevation system with proper shadow definitions:
- none, sm, md, lg, xl
- Platform-specific shadow properties for iOS/Android

#### Component Tokens
Pre-defined sizing for common components:
- Button heights and padding
- Input heights and padding
- Card padding and border radius

### 2. UI Primitive Components

All components are located in `components/ui/` directory.

#### Button (`components/ui/button.tsx`)

**Features:**
- 5 variants: primary, secondary, outline, ghost, danger
- 3 sizes: sm, md, lg
- Loading state with spinner
- Disabled state with opacity
- Full width option
- Proper TypeScript types

**Usage:**
```typescript
import { Button } from '@/components/ui/button';

<Button title="Save" variant="primary" size="md" />
<Button title="Cancel" variant="outline" />
<Button title="Delete" variant="danger" loading={isLoading} />
```

#### Input (`components/ui/input.tsx`)

**Features:**
- Label and helper text support
- Error state with error message
- 3 sizes: sm, md, lg
- Left and right icon slots
- Focus state styling
- Disabled state
- Proper TypeScript types

**Usage:**
```typescript
import { Input } from '@/components/ui/input';

<Input
  label="Weight (kg)"
  placeholder="Enter weight"
  error={errors.weight}
  size="md"
/>
```

#### Card (`components/ui/card.tsx`)

**Features:**
- 3 variants: elevated, outlined, filled
- Configurable padding (xs, sm, md, lg, xl, 2xl, 3xl)
- Proper shadow for elevated variant
- Border for outlined variant
- Proper TypeScript types

**Usage:**
```typescript
import { Card } from '@/components/ui/card';

<Card variant="elevated" padding="md">
  <Text>Card content</Text>
</Card>
```

#### Badge (`components/ui/badge.tsx`)

**Features:**
- 6 variants: primary, success, error, warning, info, neutral
- 3 sizes: sm, md, lg
- Pill-shaped design
- Proper TypeScript types

**Usage:**
```typescript
import { Badge } from '@/components/ui/badge';

<Badge text="New" variant="success" size="sm" />
<Badge text="Error" variant="error" />
```

#### Divider (`components/ui/divider.tsx`)

**Features:**
- Horizontal and vertical orientation
- Configurable spacing
- Configurable thickness
- Proper TypeScript types

**Usage:**
```typescript
import { Divider } from '@/components/ui/divider';

<Divider orientation="horizontal" spacing="md" />
<Divider orientation="vertical" spacing="sm" thickness={2} />
```

## Import Pattern

**IMPORTANT:** No barrel files. Always import directly from named files:

```typescript
// ✅ CORRECT
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card } from '@/components/ui/card';

// ❌ INCORRECT (no barrel files)
import { Button, Input, Card } from '@/components/ui';
```

## Theme System Usage

### Accessing Theme Colors

Use the existing `useThemeColor` hook:

```typescript
import { useThemeColor } from '@/hooks/use-theme-color';

const backgroundColor = useThemeColor({ light: '#fff', dark: '#000' }, 'background');
```

### Using Design Tokens

Import tokens directly from the theme file:

```typescript
import { Colors, Spacing, BorderRadius, Shadows, FontSizes } from '@/constants/theme';
import { useColorScheme } from '@/hooks/use-color-scheme';

const colorScheme = useColorScheme() ?? 'light';
const colors = Colors[colorScheme];

const styles = StyleSheet.create({
  container: {
    backgroundColor: colors.background,
    padding: Spacing.md,
    borderRadius: BorderRadius.lg,
    ...Shadows.md,
  },
  text: {
    color: colors.text,
    fontSize: FontSizes.base,
  },
});
```

## Benefits

1. **Consistency**: All UI components follow the same design system
2. **Dark mode support**: Automatic light/dark mode with proper color tokens
3. **Type safety**: Full TypeScript support for all components and tokens
4. **Flexibility**: Components accept custom styles via style props
5. **Maintainability**: Centralized theme makes updates easy
6. **Accessibility**: Proper contrast ratios and touch targets
7. **Performance**: No barrel files means faster builds and better tree-shaking

## Next Steps

Future phases will use these UI primitives for:
- Template cards
- Workout session UI
- Exercise input forms
- History list items
- Analytics charts
- Settings screens

## Files Created/Modified

### Created:
- `components/ui/button.tsx`
- `components/ui/input.tsx`
- `components/ui/card.tsx`
- `components/ui/badge.tsx`
- `components/ui/divider.tsx`
- `project_plan/1.3-theme-system.md` (this file)

### Modified:
- `constants/theme.ts` - Enhanced with comprehensive design tokens
- `PROJECT_GUIDELINES.md` - Marked Phase 1.3 as complete, added no-barrel-files rule

## Architecture Notes

- No barrel files (index.ts/tsx) for re-exports - always import from named files
- All UI primitives are theme-aware and support light/dark mode
- Components use the existing `useColorScheme` and `useThemeColor` hooks
- Design tokens follow a 4px grid system for spacing
- Shadow system works cross-platform (iOS elevation vs Android shadow)
